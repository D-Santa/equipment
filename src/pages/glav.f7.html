<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" />
<style>
  .table.data-table {
    width: 100%;
    border: none;
    padding: 0;
    margin: 0;
    border-collapse: collapse;
    text-align: left;
}
[class*="sticker"] {
 position: relative;
 margin: 10px 0;
 padding: 20px 0px 10px;
 background: #fff;
 border-radius: 6px;
 box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, .64)
}
[class*="sticker"]:after {
 content: attr(data-sticker);
 position: absolute;
 top: 0;
 padding: 3px 7px;
 font-size: 10px;
 font-weight: bold;
 background: #073974;
 color: #fff
}
.sticker-left {
 border-top-left-radius: 6px
}
.sticker-left:after {
 left: 0;
 border-radius: 6px 0 6px 0
}
.aurora {
  --f7-dialog-width: 30%;
  }

  ul li:not(.group):not(.ms-select-all) {
      margin-left: 7px;
    }

    input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button { 
  -webkit-appearance: none; 
  margin: 0; 
}
</style>

<template>
<div class="page">
  <div class="navbar bg-color-blue">
    <div class="navbar-inner" style="background-color:#222c3c;">
      <div class="title sliding" style="width:100%;text-align:center;"><font color="white">База данных оборудования</font>(Аппарат для гемодиализа)</div>
	  <div class="right">
          <a href="#" class="link icon-only panel-open" data-panel="right">
            <i class="icon f7-icons if-not-md">menu</i>
            <i class="icon material-icons if-md">menu</i>
          </a>
        </div>
    </div>
  </div>

  <div class="toolbar tabbar toolbar-bottom toolbar-top-aurora">
    <div class="toolbar-inner">
      <a href="#tab-1" class="tab-link tab-link-active">Заявки</a>
      <a href="#tab-2" class="tab-link">База оборудования</a>
    </div>
   </div>

    <div class="tabs">
      <div id="tab-1" class="page-content tab tab-active">
        <div style="z-index:300;position:fixed;width: 100%"> 
          <div class="block accordion-list custom-accordion">
  <div class="accordion-item items-1">
    <div class="accordion-item-toggle">
      <a class="button button-fill color-orange text-color-white" style="width: 25%;">поиск</a>
    </div>
    <div class="accordion-item-content">
            <div class="card">
          <div class="block">
        <div class="card-content" style='height: 200px;'>
          <div class="row" style="z-index: 10000;">
            <div class="col-100"> 

              <div class="row">
                <div class="col-33" style="z-index: 10;">
                  <div class="list no-hairlines-md">
                      <ul>
                        <li class="item-content">
                          <div class="item-inner">
                            <div class="item-title"><font size="2%">Тип</font></div>
                            </div>
                        </li>
                        <li class="item-content item-input item-input-outline">
                            <div class="item-inner">
                              <div class="item-title item-label">&nbsp;</div>
                              <div class="item-input-wrap input-dropdown-wrap">
        <select placeholder="" id="type_optionz" multiple="multiple">
        </select>
      </div>
                            </div>
                          </li>
                      </ul>
                  </div>
              </div>
                <div class="col-33" style="z-index: 8;">
                  <div class="list no-hairlines-md">
                      <ul>
                        <li class="item-content">
                          <div class="item-inner">
                            <div class="item-title"><font size="2%">Расположение</font></div>
                            </div>
                        </li>
                        <li class="item-content item-input item-input-outline">
                          <div class="item-inner">
                            <div class="item-title item-label">&nbsp;</div>
                            <div class="item-input-wrap input-dropdown-wrap">
        <select placeholder="" id="place_optionz" multiple="multiple">
        </select>
      </div>
                          </div>
                        </li>
                        <li class="item-content item-input item-input-outline">
                            <div class="item-inner">
                              <div class="item-title item-label">Статус</div>
                              <div class="item-input-wrap input-dropdown-wrap">
        <select placeholder="" id="statusz" multiple="multiple">
        </select>
      </div>
                            </div>
                          </li>
                      </ul>
                  </div>
              </div>
              <div class="col-33" style="z-index: 10;">
                <div class="list no-hairlines-md">
                    <ul>
                        <li class="item-content">
                            <div class="item-inner">
                              <div class="item-title"><font size="2%">Дата подачи заявки</font></div>
                              </div>
                          </li>
                          <li class="item-content item-input item-input-outline">
                            <div class="item-inner">
                              <div class="item-title item-label">От</div>
                              <div class="item-input-wrap input-dropdown-wrap" id="py_optionz_div">
                                <input type="text" placeholder="Select date" readonly="readonly" id="demo-calendar-modal3"/>
                              </div>
                            </div>
                          </li>

                      <li class="item-content item-input item-input-outline">
                          <div class="item-inner">
                            <div class="item-title item-label">До</div>
                            <div class="item-input-wrap input-dropdown-wrap" id="py_optionzz_div">
                              <input type="text" placeholder="Select date" readonly="readonly" id="demo-calendar-modal4"/>
                            </div>
                          </div>
                        </li>
                    </ul>
                </div>
            </div>

			 </div>

            </div>
          </div>

     </div>
        </div>
        <div class="card-footer">
            <div class="block right" style="width:25%;">
                  <button class="button button-fill" @Click = "findz" style="background-color:#073974">Найти</button>&nbsp;
                </div>
      </div>
  </div>



    </div>
  </div>
</div>
</div>	  
<div class="card data-table data-table-init" id="list_gemo" style="--f7-card-border-radius: 0px;top:50px;">
                  <div class="card-header">Список заявок <span id="zaya_name">(Активные заявки)</span><div style="right: 5px;"><font color="gray"><span id="obw_colz"></span></font><font color="red"><span id="obw_chekz"></span></font></div></div>
                  <div class="card-content card-content-padding scrollable">
                    <table>
                      <thead>
                        <tr>
						<th class="checkbox-cell" style='z-index: 50;position: sticky; top: -16px;background: white'>
          <label class="checkbox">
            <input type="checkbox"/>
            <i class="icon-checkbox"></i>
          </label>
        </th>
                          <th class="label-cell" style='z-index: 50;position: sticky; top: -16px;background: white'>Place</th>
                          <th class="label-cell" style='z-index: 50;position: sticky; top: -16px;background: white'>EType</th>
						  <th class="label-cell" style='z-index: 50;position: sticky; top: -16px;background: white'>Equipment</th>
						  <th class="label-cell" style='z-index: 50;position: sticky; top: -16px;background: white'>Status</th>
						  <th class="label-cell" style='z-index: 50;position: sticky; top: -16px;background: white'>ID</th>
						  <th class="label-cell" style='z-index: 50;position: sticky; top: -16px;background: white'>Date</th>
						  <th class="numeric-cell" style='z-index: 50;position: sticky; top: -16px;background: white'><button id="all_buttonz" class="col button dynamic-popoverz" style="height:100%;">:</button></th>
                        </tr>
                      </thead>
                      <tbody id="virt_list_zayavka">

                      </tbody>
                    </table>
                  </div>

                </div>
      </div>
      <div id="tab-2" class="page-content tab">  
        <div style="z-index:300;position:fixed;width: 100%"> 
  <div class="block accordion-list custom-accordion" >
  <div class="accordion-item items-2">
  <p class="segmented segmented-raised">
                  <button class="button button-fill bg-color-yellow accordion-item-toggle">Поиск</button>&nbsp;
                  <button class="button button-fill" @Click = "add" style="background-color:#073974">Добавить</button>&nbsp;
                  <button class="button button-fill" id="per" style="background-color:#073974">Переместить</button>&nbsp;
                  <button class="button button-fill" style="background-color:#073974">Профилактическая работа</button>&nbsp;
                  <button class="button button-fill" style="background-color:#073974">Утилизация</button>
                </p>
    <div class="accordion-item-content">
            <div class="card gemo">
          <div class="block">
        <div class="card-content">
          <div class="row">
            <div class="col-50" style="z-index: 10000;"> 

              <div class="row">
                <div class="col-25" style="z-index: 10;">
                    <div class="list no-hairlines-md">
                        <ul>
                          <li class="item-content item-input item-input-outline">
                            <div class="item-inner">
                              <div class="item-title item-label">Статус</div>
                              <div class="item-input-wrap">
                                  <select placeholder="" id="statusg" multiple="multiple">
                                      
                                      <option value="1">Работает</option>
                                      <option value="2">Работает - ограниченная функциональность</option>
                                <option value="3">Не работает</option>
    </select>    
                                </div>
                            </div>
                          </li>
                          <li class="item-content item-input item-input-outline">
                              <div class="item-inner">
                                <div class="item-title item-label">Тип</div>
                                <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id="type_optiong" multiple="multiple">
          </select>
        </div>
                              </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-25" style="z-index: 9;">
                    <div class="list no-hairlines-md">
                        <ul>
                          <li class="item-content item-input item-input-outline">
                            <div class="item-inner">
                              <div class="item-title item-label">ID</div>
                              <div class="item-input-wrap">
                                <input type="number" placeholder="" id="tedeco_id">
                                <span class="input-clear-button"></span>
                              </div>
                            </div>
                          </li>
                          <li class="item-content item-input item-input-outline">
                              <div class="item-inner">
                                <div class="item-title item-label">Наименование</div>
                                <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id="equip_optiong" multiple="multiple">
          </select>
        </div>
                              </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-25" style="z-index: 8;">
                    <div class="list no-hairlines-md">
                        <ul>
                          <li class="item-content item-input item-input-outline">
                            <div class="item-inner">
                              <div class="item-title item-label">Расположение</div>
                              <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id="place_optiong" multiple="multiple">
          </select>
        </div>
                            </div>
                          </li>
                          <li class="item-content item-input item-input-outline">
                              <div class="item-inner">
                                <div class="item-title item-label">Артикул</div>
                                <div class="item-input-wrap">
                                  <input type="text" placeholder="" id = "articleg">
                                  <span class="input-clear-button"></span>
                                </div>
                              </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-25">
                    <div class="list no-hairlines-md">
                        <ul>
                          <li class="item-content item-input item-input-outline">
                            <div class="item-inner">
                              <div class="item-title item-label">Серийный номер</div>
                              <div class="item-input-wrap">
                                <input type="text" placeholder="" id ="sng">
                                <span class="input-clear-button"></span>
                              </div>
                            </div>
                          </li>
                          <li class="item-content item-input item-input-outline">
                              <div class="item-inner">
                                <div class="item-title item-label">Версия ПО</div>
                                <div class="item-input-wrap input-dropdown-wrap" id="versions">
                                  <select placeholder="" id="versiong" multiple="multiple">
                                  </select>
                                </div>
                              </div>
                            </li>
                        </ul>
                    </div>
                </div>
              </div>

            </div>
            <div class="col-50" style="z-index: 10000;">
                <div class="sticker-left" data-sticker="Опции" style="width:98%">
                    <div class="row no-gap">
                    <div class="col">
                        <div class="list no-hairlines-md">
                            <ul>
                              <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">PUMP</div>
                                  <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id="pumpg" multiple="multiple">
            <option value="1">1</option>
            <option value="2">2</option>
          </select>
        </div>
                                </div>
                              </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col">
                        <div class="list no-hairlines-md">
                            <ul>
                              <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">DF/HDF</div>
                                 <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id = "hdfg" multiple="multiple">
            <option value="НЕТ">Нет</option>
            <option value="DF">DF</option>
			<option value="HDF">HDF</option>
          </select>
        </div>
                                </div>
                              </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col">
                        <div class="list no-hairlines-md">
                            <ul>
                              <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">ZKV</div>
                                 <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id = "zkv" multiple="multiple">
            <option value="true">Есть</option>
			<option value="false">Нет</option>
          </select>
        </div>
                                </div>
                              </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col">
                        <div class="list no-hairlines-md">
                            <ul>
                              <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">ADIMEA</div>
                                 <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id = "adimea" multiple="multiple">
            <option value="true">Есть</option>
			<option value="false">Нет</option>
          </select>
        </div>
                                </div>
                              </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col">
                        <div class="list no-hairlines-md">
                            <ul>
                              <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">AKKU</div>
                                 <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id = "akku" multiple="multiple">
            <option value="true">Есть</option>
			<option value="false">Нет</option>
          </select>
        </div>
                                </div>
                              </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col">
                        <div class="list no-hairlines-md">
                            <ul>
                              <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">ABPM</div>
                                 <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id = "abpm" multiple="multiple">
            <option value="true">Есть</option>
			<option value="false">Нет</option>
          </select>
        </div>
                                </div>
                              </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col">
                      <div class="list no-hairlines-md">
                          <ul>
                            <li class="item-content item-input item-input-outline">
                              <div class="item-inner">
                                <div class="item-title item-label">NEXADIA</div>
                               <div class="item-input-wrap input-dropdown-wrap">
        <select placeholder="" id = "nexadia" multiple="multiple">
          <option value="true">Есть</option>
    <option value="false">Нет</option>
        </select>
      </div>
                              </div>
                            </li>
                          </ul>
                      </div>
                  </div>
                  <div class="col">
                    <div class="list no-hairlines-md">
                        <ul>
                          <li class="item-content item-input item-input-outline">
                            <div class="item-inner">
                              <div class="item-title item-label">Cardreader</div>
                             <div class="item-input-wrap input-dropdown-wrap">
      <select placeholder="" id = "cardreader" multiple="multiple">
        <option value="true">Есть</option>
  <option value="false">Нет</option>
      </select>
    </div>
                            </div>
                          </li>
                        </ul>
                    </div>
                </div>
                </div>
                </div>
            </div>
          </div>
          <div class="row">
              <div class="col-50" style="z-index: 9000;"> 
  
                <div class="row">
                  <div class="col-33" style="z-index: 10;">
                      <div class="list no-hairlines-md">
                          <ul>
                              <li class="item-content">
                                  <div class="item-inner">
                                    <div class="item-title"><font size="2%">Год производства</font></div>
                                    </div>
                                </li>
                                <li class="item-content item-input item-input-outline">
                                  <div class="item-inner">
                                    <div class="item-title item-label">От</div>
                                    <div class="item-input-wrap input-dropdown-wrap" id="py_optiong_div"></div>
                                  </div>
                                </li>

                            <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">До</div>
                                  <div class="item-input-wrap input-dropdown-wrap" id="py_option_div"></div>
                                </div>
                              </li>
                          </ul>
                      </div>
                  </div>
                  <div class="col-33" style="z-index: 9;">
                      <div class="list no-hairlines-md">
                          <ul>
                              <li class="item-content">
                                  <div class="item-inner">
                                    <div class="item-title"><font size="2%">Дата ввода в эксплуатацию</font></div>
                                    </div>
                                </li>
                                <li class="item-content item-input item-input-outline">
                                  <div class="item-inner">
                                    <div class="item-title item-label">Раньше чем</div>
                                    <div class="item-input-wrap input-dropdown-wrap" id="inst_date_div"></div>
                                  </div>
                                </li>
                            <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">Дата</div>
                                  <div class="item-input-wrap">
                                    <input type="number" id = "inst_date">
                                    <span class="input-clear-button"></span>
                                  </div>
                                </div>
                              </li>
                              <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">Гарантийные аппараты</div>
                                 <div class="item-input-wrap input-dropdown-wrap">
          <select placeholder="" id = "garant" multiple="multiple">
            <option value="true">Есть</option>
      <option value="false">Нет</option>
          </select>
        </div>
                                </div>
                              </li>
                          </ul>
                      </div>
                  </div>
                  <div class="col-33" style="z-index: 8;">
                      <div class="list no-hairlines-md">
                          <ul>
                              <li class="item-content">
                                  <div class="item-inner">
                                    <div class="item-title"><font size="2%">Время наработки</font></div>
                                    </div>
                                </li>
                                <li class="item-content item-input item-input-outline">
                                  <div class="item-inner">
                                    <div class="item-title item-label">Больше чем</div>
                                    <div class="item-input-wrap input-dropdown-wrap" id="wtcg_div"></div>
                                  </div>
                                </li>
                            <li class="item-content item-input item-input-outline">
                                <div class="item-inner">
                                  <div class="item-title item-label">Время</div>
                                  <div class="item-input-wrap">
                                    <input type="number" id="wtcg">
                                  </div>
                                </div>
                              </li>
                              <li>
                                <p>
                                  <a class="button button-fill color-red" @Click="clear" style="width:86%;left:7%;margin-top:5px">Очистить</a>
                                  </p>
                                  </li>
                          </ul>
                      </div>
                  </div>

                </div>
  
              </div>
              <div class="col-50">
                  <div class="sticker-left" data-sticker="Теги" style="width:98%">
                      <div class="row" style="margin-top:2%;">
                          <div class="list" style="width:100%;">
                          <ul>
                              <li class="item-content">
                          <div class="block block-strong" style="width:97%;"> 
                            <div id="chip_div_glav">
              
                            </div>
              
                                        
                              </div>
                              </li>
                              <li class="item-content item-input item-input-outline">
                                  <div class="item-inner">
                                    <div class="item-title item-label"><span id="ship_text">Поиск</span></div>
                                    <div class="item-input-wrap">
                                      <input type="text" placeholder="" id="find_chip">
                                      <span class="input-clear-button"></span>
                                    </div>
                                    <div class="item-after"><a id="chip_ewe">Еще</a></div>
                                  </div>
                                </li>
                              </ul>
                              </div>


                  </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
        <br>
        <div class="card-footer" style="width:100%;">
            <div class="block" style="width:25%; left: 75%; top: 10px;">
                  <button class="button button-fill" @Click = "find" style="background-color:#073974">Найти</button>
                </div>

      </div>
      <br>
  </div>

    </div>
  </div>
</div>
        </div>

	  
	   <div class="card data-table data-table-init" id="list_gemo" style="--f7-card-border-radius: 0px;top:50px;">
                  <div class="card-header">Список оборудования<div style="right: 5px;"><font color="gray"><span id="obw_col"></span></font><font color="red"><span id="obw_chek"></span></font></div></div>
                  <div class="card-content card-content-padding scrollable">
                    <table>
                      <thead>
                       
                        <tr>
						<th class="checkbox-cell" style='z-index: 50;position: sticky; top: -16px;background: white'>
          <label class="checkbox">
            <input type="checkbox" name="demo-checkbox-movies"/>
            <i class="icon-checkbox"></i>
          </label>
        </th>
                          <th class="label-cell sortable-cell" id="sort_place" style='z-index: 50;position: sticky; top: -16px;background: white'>Расположение</th>
                          <th class="label-cell sortable-cell" id="sort_etype" style='z-index: 50;position: sticky; top: -16px;background: white'>Тип оборудования</th>
						  <th class="label-cell sortable-cell" id="sort_equip" style='z-index: 50;position: sticky; top: -16px;background: white'>Версия оборудования</th>
						  <th class="label-cell sortable-cell" id="sort_id" style='z-index: 50;position: sticky; top: -16px;background: white'>ID</th>
						  <th class="label-cell sortable-cell" id="sort_sn" style='z-index: 50;position: sticky; top: -16px;background: white'>Серийный номер</th>
						  <th class="label-cell sortable-cell" id="sort_article" style='z-index: 50;position: sticky; top: -16px;background: white'>Артикул</th>
						  <th class="label-cell sortable-cell" id="sort_py" style='z-index: 50;position: sticky; top: -16px;background: white'>Год производства</th>
						  <th class="label-cell sortable-cell" id="sort_wtc" style='z-index: 50;position: sticky; top: -16px;background: white'>Время наработки</th>
						  <th class="label-cell sortable-cell" id="sort_sw" style='z-index: 50;position: sticky; top: -16px;background: white'>Версия ПО</th>
						  <th class="label-cell sortable-cell" id="sort_status" style='z-index: 50;position: sticky; top: -16px;background: white'>Статус</th>
						  <th class="label-cell" style='z-index: 50;position: sticky; top: -16px;background: white'><button id="all_button" class="col button dynamic-popover0" style="height:100%;">:</button></th>
                        </tr>
                      </thead>
                      <tbody id="virt_list">

                      </tbody>
                    </table>
                  </div>

                </div>

                <div class="card data-table data-table-init" id="list_vodo" style="--f7-card-border-radius: 0px;top:50px;display: none;">
                  <div class="card-header">Список оборудования<div style="right: 5px;"><font color="gray"><span id="obw_col"></span></font><font color="red"><span id="obw_chek"></span></font></div></div>
                  <div class="card-content card-content-padding scrollable">
                    <table>
                      <thead>
                       
                        <tr>
						<th class="checkbox-cell" style='z-index: 50;position: sticky; top: -16px;background: white'>
          <label class="checkbox">
            <input type="checkbox" name="demo-checkbox-movies"/>
            <i class="icon-checkbox"></i>
          </label>
        </th>
                          <th class="label-cell sortable-cell" id="sort_place" style='z-index: 50;position: sticky; top: -16px;background: white'>Расположение</th>
                          <th class="label-cell sortable-cell" id="sort_etype" style='z-index: 50;position: sticky; top: -16px;background: white'>Тип оборудования</th>
						  <th class="label-cell sortable-cell" id="sort_equip" style='z-index: 50;position: sticky; top: -16px;background: white'>Версия оборудования</th>
						  <th class="label-cell sortable-cell" id="sort_id" style='z-index: 50;position: sticky; top: -16px;background: white'>ID</th>
						  <th class="label-cell sortable-cell" id="sort_sn" style='z-index: 50;position: sticky; top: -16px;background: white'>Серийный номер</th>
						  <th class="label-cell sortable-cell" id="sort_article" style='z-index: 50;position: sticky; top: -16px;background: white'>Артикул</th>
						  <th class="label-cell sortable-cell" id="sort_py" style='z-index: 50;position: sticky; top: -16px;background: white'>Год производства</th>
						  <th class="label-cell sortable-cell" id="sort_wtc" style='z-index: 50;position: sticky; top: -16px;background: white'>Время наработки</th>
						  <th class="label-cell sortable-cell" id="sort_sw" style='z-index: 50;position: sticky; top: -16px;background: white'>Версия ПО</th>
						  <th class="label-cell sortable-cell" id="sort_status" style='z-index: 50;position: sticky; top: -16px;background: white'>Статус</th>
						  <th class="label-cell" style='z-index: 50;position: sticky; top: -16px;background: white'><button id="all_button" class="col button dynamic-popover0" style="height:100%;">:</button></th>
                        </tr>
                      </thead>
                      <tbody id="virt_list_vodo">

                      </tbody>
                    </table>
                  </div>

                </div>


    </div>
  </div>
  




</div>

</template>
<script>
export default {
    methods: {
	clear: function () {
	 var app = this.$app;
	  var $$ = this.$$;
    var router = this.$router;
    app.data.peremen.put="clear";
    router.refreshPage();

	},
  findz: function () {
	var app = this.$app;
    var $$ = this.$$;
    var router = this.$router;
    var chek_item=[];
    $$('#obw_chek').text("");

    if ($$('#place_optionz').val()!=""){
    var place_option = ""+$$('#place_optionz').val();
    place_option = place_option.split(",");
    }
    else
    var place_option=["all"];

    if ($$('#type_optionz').val()!=""){
    var type_option = ""+$$('#type_optionz').val();
    type_option = type_option.split(",");
    }
    else
    var type_option=["all"];

    if ($$('#statusz').val()!=""){
    var statusz = ""+$$('#statusz').val();
    statusz = statusz.split(",");
    }
    else
    var statusz=["all"];


var s4 = "",s41 = "";

    var f4 = $$('#demo-calendar-modal3').val();
    var f5 = $$('#demo-calendar-modal4').val();


    if (f4 != "") s4="data >='"+f4+"'";
    else s4="id!=0";
    if (f5 != "") s41=" and data <= '"+f5+"'";
    else s41="";


   // if (app.data.peremen.type.id!=0)type_option=app.data.peremen.type.id;
    var zapros_sql = s4 + s41;
    var sql=[];
    sql.push({
      zapros_sql:zapros_sql,
      place_option:place_option,
      type_option:type_option,
      sobytie:statusz
    });
//console.log(sql);
	  app.preloader.show('blue');
    app.request.get('http://tedeco.kz/equipment/api/zayavka.php',{zapros:"admin",zap:"find",sql:JSON.stringify(sql)},function(zapros){
      app.preloader.hide();
      //console.log(zapros);
        $$('#obw_colz').text(zapros.length+" найдено");
	if (zapros.length>0){
	var virt_list_zayavka="";
	for (var s=0;s<zapros.length; s++){
	virt_list_zayavka+='<tr>'+
			'<td class="checkbox-cell" value="'+zapros[s].id+'"><label class="checkbox"><input value="'+zapros[s].id+'" id="check_zaya'+zapros[s].id+'" type="checkbox"/><i class="icon-checkbox"></i></label></td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Place+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].EType+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Equipment+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].status+'</td>'+
			  '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].id_bd+'</td>'+
			   '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].data+'</td>'+
			   '<td class="label-cell"><button name="1" class="col button dynamic-popoverz'+zapros[s].id_bd+'" data-id="'+zapros[s].id_bd+'" style="height:100%;">:</button></td>'+
            '</tr>';
}			
	$$('#virt_list_zayavka').html(virt_list_zayavka);

	}
  else
  $$('#virt_list_zayavka').html("");
  app.accordion.close('.items-1');
	},function(){
	app.preloader.hide();
	app.dialog.alert('Нет ответа от сервера!');
  },'json');
	},
	find: function () {
	var app = this.$app;
    var $$ = this.$$;
    var router = this.$router;
    var chek_item=[];
    $$('#obw_chek').text("");
    var s18="";
    var f21 = $$('#find_chip').val();
    if (f21 != "")  s18="tag";
    if ($$('#statusg').val()!=""){
    var status = ""+$$('#statusg').val();
    status = status.split(",");
    }
    else
    var status=["all"];

    if ($$('#place_optiong').val()!=""){
    var place_option = ""+$$('#place_optiong').val();
    place_option = place_option.split(",");
    }
    else
    var place_option=["all"];

    if ($$('#type_optiong').val()!=""){
    var type_option = ""+$$('#type_optiong').val();
    type_option = type_option.split(",");
    }
    else
    var type_option=["all"];

    if ($$('#equip_optiong').val()!=""){
    var equip_option = ""+$$('#equip_optiong').val();
    equip_option = equip_option.split(",");
    }
    else
    var equip_option=["all"];

    if ($$('#versiong').val()!=""){
    var version = ""+$$('#versiong').val();
    version = version.split(",");
   // app.dialog.alert(JSON.stringify(version));
    }
    else
    var version=["all"];

    if ($$('#pumpg').val()!=""){
    var pump = ""+$$('#pumpg').val();
    pump = pump.split(",");
    }
    else
    var pump=["all"];

    if ($$('#hdfg').val()!=""){
    var hdf = ""+$$('#hdfg').val();
    hdf = hdf.split(",");
    }
    else
    var hdf=["all"];

    if ($$('#garant').val()!=""){
    var garant = ""+$$('#garant').val();
    garant = garant.split(",");
    }
    else
    var garant=["all"];

    if ($$('#zkv').val()!=""){
    var zkv = ""+$$('#zkv').val();
    zkv = zkv.split(",");
    }
    else
    var zkv=["all"];

    if ($$('#adimea').val()!=""){
    var adimea = ""+$$('#adimea').val();
    adimea = adimea.split(",");
    }
    else
    var adimea=["all"];

    if ($$('#akku').val()!=""){
    var akku = ""+$$('#akku').val();
    akku = akku.split(",");
    }
    else
    var akku=["all"];

    if ($$('#abpm').val()!=""){
    var abpm = ""+$$('#abpm').val();
    abpm = abpm.split(",");
    }
    else
    var abpm=["all"];

    if ($$('#nexadia').val()!=""){
    var nexadia = ""+$$('#nexadia').val();
    nexadia = nexadia.split(",");
    }
    else
    var nexadia=["all"];

    if ($$('#cardreader').val()!=""){
    var cardreader = ""+$$('#cardreader').val();
    cardreader = cardreader.split(",");
    }
    else
    var cardreader=["all"];

    var s1 = "",s2="",s3="",s4 = "",s41 = "",s5="",s6="";

    var f1 = $$('#tedeco_id').val();
    var f2 = $$('#sng').val();
    var f3 = $$('#articleg').val();
    var f4 = $$('#py_optiong_lv').val();
    var f5 = $$('#py_optiong').val();
    var f6 = $$('#inst_date_lv').val();
    var f7 = $$('#inst_date').val();
    var f8 = $$('#wtcg_lv').val();
    var f9 = $$('#wtcg').val();

    if (f1 != "")  s1="id = "+f1; else s1="id !=0";
    if (f2 != "")  s2=" and SN = "+f2;
    if (f3 != "")  s3=" and Article = '"+f3+"'";

    if (f4 != "0") s4=" and PY >="+f4;
    if (f5 != "0") s41=" and PY <= "+f5;

    if (f6 != "0") s5=" and Inst_date "+f6+" "+f7; else 
    if (f7 != "") s5=" and Inst_date = "+f7;
    if (f8 != "0") s6=" and WTC "+f8+" "+f9; else 
    if (f9 != "") s6=" and WTC = "+f9;



    type_option=1;
    if (app.data.peremen.type.id!=0)type_option=app.data.peremen.type.id;
    var zapros_sql = s1 + s2 + s3 + s4 + s41 + s5 + s6;
    var sql=[];
    sql.push({
      status:status,
      zapros_sql:zapros_sql,
      place_option:place_option,
      type_option:type_option,
      equip_option:equip_option,
      version:version,
      garant:garant,
      pump:pump,
      hdf:hdf,
      zkv:zkv,
      adimea:adimea,
      akku:akku,
      abpm:abpm,
      nexadia:nexadia,
      cardreader:cardreader
    });

	  app.preloader.show('blue');
	app.request.post('http://tedeco.kz/equipment/api/list.php',{zapros:"find",sql:JSON.stringify(sql),tag:s18,find:f21},function(otvet){
  app.preloader.hide();
  //app.dialog.alert(JSON.stringify(otvet));
  app.accordion.close('.items-2');
    var virt_list = document.getElementById("virt_list"); 
    virt_list.innerHTML ="";
    $$('#obw_col').text(otvet[0].length+" найдено");
	if (otvet[0].length>0){
	for (var s=0;s<otvet[0].length; s++){
    chek_item.push({
        id:otvet[0][s].id
      });
      virt_list.innerHTML  +='<tr>'+
			'<td class="checkbox-cell"><label class="checkbox"><input type="checkbox" value="'+s+'" id="check'+otvet[0][s].id+'" name="3"/><i class="icon-checkbox"></i></label></td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].place+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].etype+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].equip+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].id+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].sn+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].article+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].py+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].wtc+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].sw_version+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].status+'</td>'+
			  '<td class="label-cell"><button name="1" class="col button dynamic-popover'+otvet[0][s].id+'" data-id="'+otvet[0][s].id+'" style="height:100%;">:</button></td>'+
            '</tr>';	
			 }
	
  }
},function(){
	app.preloader.hide();
	app.dialog.alert('Нет ответа от сервера!');
	},'json');
  
	},
	
  add: function () {
	var app = this.$app;
	  var $$ = this.$$;
	  var router = this.$router;
	router.navigate('/add/');
	},
    },
    on: {
      pageInit: function () {
	var app = this.$app;
  var spisok = [];
	  var $$ = this.$$;
	  var router = this.$router;
    var chek_item=[];
    var place_div2;
    var all_chip=[];
    var status_arr=[];
  var myHeight = $(document).height();
  myHeight = myHeight -220;
$$('.scrollable').css({height:myHeight+'px'});

    var autocompleteDropdownAjax = app.autocomplete.create({
  inputEl: '#find_chip',
  openIn: 'dropdown',
  preloader: true, //enable preloader
  /* If we set valueProperty to "id" then input value on select will be set according to this property */
  valueProperty: 'name', //object's "value" property name
  textProperty: 'name', //object's "text" property name
  limit: 20, //limit to 20 results
  dropdownPlaceholderText: 'варианты',
  source: function (query, render) {
    var autocomplete = this;
    var results = [];
    if (query.length === 0) {
      render(results);
      return;
    }
    // Show Preloader
    autocomplete.preloaderShow();

    // Do Ajax request to Autocomplete data
    app.request({
      url: 'http://tedeco.kz/equipment/api/tag.php?type=1',
      method: 'GET',
      dataType: 'json',
      //send "query" to server. Useful in case you generate response dynamically
      data: {
        query: query,
      },
      success: function (data) {
        // Find matched items
        for (var i = 0; i < data.length; i++) {
          if (data[i].name.toLowerCase().indexOf(query.toLowerCase()) >= 0) results.push(data[i]);
        }
        // Hide Preoloader
        autocomplete.preloaderHide();
        // Render items by passing array with result items
        render(results);
      }
    });
  }
});

/*$$('#statusg').change(function(){
  var smartSelect = app.smartSelect.get('.select_status');
  var res = ""+smartSelect.getValue();
  var res = res.split(",");
  status_arr = res;
  if (smartSelect.getValue()==""){
    $$('#statusg_text').val("Не выбрано"); 
    status_arr=[];
  }
  else
  if (res.length>0 && res.length<3)$$('#statusg_text').val("Выбрано "+res.length+" из 3");
  else
  if (res.length==3)$$('#statusg_text').val("Выбрано все");
});
*/


var today = new Date();
var calendarModal = app.calendar.create({
  inputEl: '#demo-calendar-modal3',
  openIn: 'customModal',
  toolbarCloseText: 'Закрыть',
  header: true,
  footer: true,
  value: [today],
  dateFormat: 'yyyy-mm-dd',
  monthNames: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],
  monthNamesShort: ['Янв', 'Фев', 'Мрт', 'Апр', 'Май', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Нояб', 'Дек'],
  dayNames: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],
  dayNamesShort: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
  closeOnSelect: true,
  headerPlaceholder: 'Выбрать дату',
    firstDay: 1,
  weekendDays: [0, 6],
  touchmove: true,
});
var calendarModal2 = app.calendar.create({
  inputEl: '#demo-calendar-modal4',
  openIn: 'customModal',
  toolbarCloseText: 'Закрыть',
  header: true,
  footer: true,
  value: [today],
  dateFormat: 'yyyy-mm-dd',
  monthNames: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],
  monthNamesShort: ['Янв', 'Фев', 'Мрт', 'Апр', 'Май', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Нояб', 'Дек'],
  dayNames: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],
  dayNamesShort: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
  closeOnSelect: true,
  headerPlaceholder: 'Выбрать дату',
    firstDay: 1,
  weekendDays: [0, 6],
  touchmove: true,
});


$$('#demo-calendar-modal3').val('');
$$('#demo-calendar-modal4').val('');
	  if ( app.data.peremen.put=="add" ||  app.data.peremen.put=="clear"){
	app.tab.show('#tab-2', false);
	 app.data.peremen.put="home";
	//app.accordion.open('.items-2');
	}
	else
	
	  if ( app.data.peremen.put=="edit"){
	app.tab.show('#tab-2', false);
	 app.data.peremen.put="home";
  }
  var typid = 1;
  if (app.data.peremen.type.id!=0)typid=app.data.peremen.type.id;
	  router.refreshPage();
	  app.preloader.show('blue');
	app.request.post('http://tedeco.kz/equipment/api/list.php',{type:typid},function(otvet){
    spisok = otvet[0];
	app.preloader.hide();
		var virt_list = document.getElementById("virt_list"); 
    $$('#obw_col').text(otvet[0].length+" найдено");
	if (otvet[0].length>0){
	for (var s=0;s<otvet[0].length; s++){
    chek_item.push({
        id:otvet[0][s].id
      });
    virt_list.innerHTML  +='<tr>'+
			'<td class="checkbox-cell"><label class="checkbox"><input type="checkbox" value="'+s+'" id="check'+otvet[0][s].id+'" name="3"/><i class="icon-checkbox"></i></label></td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].place+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].etype+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].equip+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].id+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].sn+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].article+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].py+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].wtc+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].sw_version+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].status+'</td>'+
			  '<td class="label-cell"><button name="1" class="col button dynamic-popover'+otvet[0][s].id+'" data-id="'+otvet[0][s].id+'" style="height:100%;">:</button></td>'+
            '</tr>';	
			 }
	
	}
	app.request.get('http://tedeco.kz/equipment/api/zayavka.php',{zapros:"admin"},function(zapros){
	if (zapros.length>0){
    $$('#obw_colz').text(zapros.length+" найдено");
	var virt_list_zayavka="";
	for (var s=0;s<zapros.length; s++){
	virt_list_zayavka+='<tr>'+
			'<td class="checkbox-cell" value="'+zapros[s].id+'"><label class="checkbox"><input value="'+zapros[s].id+'" id="check_zaya'+zapros[s].id+'" type="checkbox"/><i class="icon-checkbox"></i></label></td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Place+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].EType+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Equipment+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].status+'</td>'+
			  '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].id_bd+'</td>'+
			   '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].data+'</td>'+
			   '<td class="label-cell"><button name="1" class="col button dynamic-popoverz'+zapros[s].id_bd+'" data-id="'+zapros[s].id_bd+'" style="height:100%;">:</button></td>'+
            '</tr>';
}			
	$$('#virt_list_zayavka').html(virt_list_zayavka);
	
	}
	},function(){
	app.preloader.hide();
	app.dialog.alert('Нет ответа от сервера!');
  },'json');

		app.preloader.show('blue');
	app.request.get('http://tedeco.kz/equipment/api/add.php',{Etype:"1"},function(otvet2){
	app.preloader.hide();
	if (otvet2.length>0){
    var vers_po="";
    for (var s=0;s <otvet2[6].length; s++)
      vers_po +='<option value="'+otvet2[6][s].name_version+'">'+otvet2[6][s].name_version+'</option>';	
  $$('#versiong').html(vers_po);
     var place_div = document.getElementById("place_optiong"); 
     var opti="";
	for (var s=0;s <otvet2[0].length; s++){
     opti +='<optgroup label="'+otvet2[0][s].company+'">';
    var massiv = otvet2[0][s].massiv;
      for (var s1=0;s1 <massiv.length; s1++){
   opti+='<option value="'+massiv[s1].id_place+'">'+massiv[s1].name_place+'</option>';	
    place_div2 += '<option value="'+massiv[s1].id_place+'">'+massiv[s1].name_place+'</option>';	
      }
    opti +="</optgroup>";
  }
  var statusz="";
  for (var s=0;s <otvet2[7].length; s++)
  statusz +='<option value="'+otvet2[7][s].name_sob+'">'+otvet2[7][s].name_sob+'</option>';	
  $$('#statusz').html(statusz);
  place_div.innerHTML=opti;
  var place_divz = document.getElementById("place_optionz"); 
  place_divz.innerHTML=opti;
    var type_div = document.getElementById("type_list"); 
    type_div.innerHTML ="";
    var type_divz = document.getElementById("type_optionz"); 
	for (var d=0;d <otvet2[1].length; d++){
  type_div.innerHTML  +='<li>'+
    '<a name="'+otvet2[1][d].name_type+'" class="item-content item-link" data-id="'+otvet2[1][d].id_type+'">'+
                    '<div class="item-inner">'+
                      '<div class="item-title">'+otvet2[1][d].name_type+'</div>'+
                      '</div>'+
                    '</a>'+
                '</li>';
                type_divz.innerHTML  +='<option value="'+otvet2[1][d].id_type+'">'+otvet2[1][d].name_type+'</option>';
  }
    var type_divg = document.getElementById("type_optiong"); 
    type_divg.innerHTML  +='<option value="'+otvet2[1][0].id_type+'">'+otvet2[1][0].name_type+'</option>';
    if (app.data.peremen.type.id===0){
      app.data.peremen.type.id=otvet2[1][0].id_type;
                      app.data.peremen.type.name=otvet2[1][0].name_type;
 }
                     
	var type_div = document.getElementById("equip_optiong"); 
	for (var d=0;d <otvet2[2].length; d++)
    type_div.innerHTML  +='<option value="'+otvet2[2][d].id_eqip+'">'+otvet2[2][d].name_eqip+'</option>';

		 var push_tag="";
     all_chip = otvet2[5];
for (var tagi=0; tagi<otvet2[5].length; tagi++)
if (tagi<=5)
		  push_tag += '<a class="chip color-orange" id="'+otvet2[5][tagi].id_tag+'" name="'+otvet2[5][tagi].name_tag+'"><div class="chip-label">'+otvet2[5][tagi].name_tag+'</div></a>' ;  
      else
      break;
			

	  $$('#chip_div_glav').html(push_tag);
    $$('.chip').on('click',function(){
var name_tag = $$(this).attr('name');
$$('#find_chip').val(name_tag);
});
$(function() {
      $('select').multipleSelect()
    });
	}

  
	},function(){
	app.preloader.hide();
	app.dialog.alert('Нет ответа от сервера!');
	},'json');
	
  },'json');



  var sdf=0,sdfz=0;
  $$('#type_list').on('click', 'a', function () {
    var id=$$(this).attr('data-id');
    var name=$$(this).attr('name');
    app.panel.close();
    app.data.peremen.type.id=id;
    app.data.peremen.type.name=name;
    if (id!="1"){
      router.navigate('/types/',{reloadCurrent:true});
      clearInterval(timerk);
    clearInterval(); 
    }
  });
    $$('#virt_list').on('click', 'button,td,label', function () {
	var id=$$(this).attr('data-id');
  var name=$$(this).attr('name');
  if (name=="1"){
		var dynamicPopover = app.popover.create({
  targetEl: 'button.dynamic-popover'+id,
  content: '<div class="popover">'+
              '<div class="popover-inner">'+
                '<div class="list">'+
        '<ul>'+
          '<li><a class="list-button item-link" id="qr">Показать QR-код</a></li>'+
		  '<li><a class="list-button item-link" id="edit">Посмотреть</a></li>'+
        '</ul>'+
      '</div>'+
              '</div>'+
            '</div>',
  // Events
  on: {
    open: function (popover) {
	$$('#qr').on('click',function(){
	dynamicPopover.close();
	window.open('http://tedeco.kz/equipment/api/qr.php?id='+id , '_blank');
	});
	$$('#edit').on('click',function(){
	dynamicPopover.close();
	router.navigate('/edit/?id='+id+'#about');
	});
    },
    opened: function (popover) {

    },
  }
});
  dynamicPopover.open();
  }
  else
  if (name == "2")
  {
    var value=$$(this).attr('value');
  
    if (sdf==1){
      if ($$('#check'+id).prop('checked')==false)$$('#check'+id).prop('checked',true);
      else
      $$('#check'+id).prop('checked',false);
sdf=0;
$$('#obw_chek').text('');
router.navigate('/edit/?id='+id+'#about');
    }
    else{
    sdf = 1;
    setTimeout(function(){
    sdf=0;
    },200);

    if ($$('#check'+id).prop('checked')==true)
      $$('#check'+id).prop('checked',false);
    else
      $$('#check'+id).prop('checked',true);
var obw_chek = 0;
      for(var f = 0; f<chek_item.length; f++)
  if ($$('#check'+chek_item[f].id).prop('checked')==true)
  obw_chek++;
  if (obw_chek==0)$$('#obw_chek').text("");else
  $$('#obw_chek').text(' (Выбрано: '+obw_chek.toString()+')');
  }
    
      }


});

var timerk = setInterval(function(){
  var opens=[]; 
  for(var f = 0; f<chek_item.length; f++)
  if ($$('#check'+chek_item[f].id).prop('checked')==true)
  opens.push({
    id:chek_item[f].id
  });
  if (opens.length==0)$$('#obw_chek').text("");else
  $$('#obw_chek').text(' (Выбрано: '+opens.length.toString()+')');
},200);
$$('#sort_place').on('click',function(){
app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_place').hasClass('sortable-desc'))sort("Place ASC");
else
if ($$('#sort_place').hasClass('sortable-asc'))sort("Place DESC");
else{
$$('#sort_place').addClass('sortable-desc');
sort("Place ASC");
}
},50);
});
$$('#sort_etype').on('click',function(){
app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_etype').hasClass('sortable-desc'))sort("EType ASC");
else
if ($$('#sort_etype').hasClass('sortable-asc'))sort("EType DESC");
else{
$$('#sort_etype').addClass('sortable-desc');
sort("EType ASC");
}
},50);
});
$$('#sort_equip').on('click',function(){
app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_equip').hasClass('sortable-desc'))sort("Equipment ASC");
else
if ($$('#sort_equip').hasClass('sortable-asc'))sort("Equipment DESC");
else{
$$('#sort_equip').addClass('sortable-desc');
sort("Equipment ASC");
}
},50);
});
$$('#sort_id').on('click',function(){
app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_id').hasClass('sortable-desc'))sort("id ASC");
else
if ($$('#sort_id').hasClass('sortable-asc'))sort("id DESC");
else{
$$('#sort_id').addClass('sortable-desc');
sort("id ASC");
}
},50);
});

$$('#sort_sn').on('click',function(){
  app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_sn').hasClass('sortable-desc'))sort("SN ASC");
else
if ($$('#sort_sn').hasClass('sortable-asc'))sort("SN DESC");
else{
$$('#sort_sn').addClass('sortable-desc');
sort("SN ASC");
}
},50);
});
$$('#sort_article').on('click',function(){
  app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_article').hasClass('sortable-desc'))sort("Article ASC");
else
if ($$('#sort_article').hasClass('sortable-asc'))sort("Article DESC");
else{
$$('#sort_article').addClass('sortable-desc');
sort("Article ASC");
}
},50);
});

$$('#sort_py').on('click',function(){
  app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_py').hasClass('sortable-desc'))sort("PY ASC");
else
if ($$('#sort_py').hasClass('sortable-asc'))sort("PY DESC");
else{
$$('#sort_py').addClass('sortable-desc');
sort("PY ASC");
}
},50);
});

$$('#sort_wtc').on('click',function(){
  app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_wtc').hasClass('sortable-desc'))sort("WTC ASC");
else
if ($$('#sort_wtc').hasClass('sortable-asc'))sort("WTC DESC");
else{
$$('#sort_wtc').addClass('sortable-desc');
sort("WTC ASC");
}
},50);
});
$$('#sort_sw').on('click',function(){
  app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_sw').hasClass('sortable-desc'))sort("SW_version ASC");
else
if ($$('#sort_sw').hasClass('sortable-asc'))sort("SW_version DESC");
else{
$$('#sort_sw').addClass('sortable-desc');
sort("SW_version ASC");
}
},50);
});
$$('#sort_status').on('click',function(){
  app.preloader.show('blue');
setTimeout(function(){
if ($$('#sort_status').hasClass('sortable-desc'))sort("status ASC");
else
if ($$('#sort_status').hasClass('sortable-asc'))sort("status DESC");
else{
$$('#sort_status').addClass('sortable-desc');
sort("status ASC");
}
},50);
});

function sort(sorts){
  $$('#obw_chek').text("");
  if ($$('#py_optiong_div').html()=="") {
    var py_optiong_div = document.getElementById("py_optiong_div"); 
  py_optiong_div.innerHTML  ='<select placeholder="" id="py_optiong_lv">'+
            '<option value="0"></option>'+
            '<option value="2000">2000</option>';
          '</select>';
          var type_div_g = document.getElementById("py_optiong_lv"); 
          for (var d=1;d <21; d++)
	if (d<10)
  type_div_g.innerHTML  +='<option value="200'+d+'">200'+d+'</option>';
	else
	type_div_g.innerHTML  +='<option  value="20'+d+'">20'+d+'</option>';
            $$('#inst_date_div').html('<select placeholder="" id="inst_date_lv">'+
              '<option value="0"></option>'+
              '<option value=">">></option>'+
              '<option value="<"><</option>'+
            '</select>');

            $$('#wtcg_div').html('<select placeholder="" id="wtcg_lv">'+
              '<option value="0"></option>'+
              '<option value=">">></option>'+
              '<option value="<"><</option>'+
              '</select>');

              var py_option_div = document.getElementById("py_option_div"); 
  py_option_div.innerHTML  ='<select placeholder="" id="py_optiong">'+
            '<option value="0"></option>'+
            '<option value="2000">2000</option>';
          '</select>';
  var type_div = document.getElementById("py_optiong"); 
	for (var d=1;d <21; d++)
	if (d<10)
    type_div.innerHTML  +='<option value="200'+d+'">200'+d+'</option>';
	else
	type_div.innerHTML  +='<option  value="20'+d+'">20'+d+'</option>';
          }
  var s18="";
    var f21 = $$('#find_chip').val();
    if (f21 != "")  s18="tag";
    if ($$('#statusg').val()!=""){
    var status = ""+$$('#statusg').val();
    status = status.split(",");
    }
    else
    var status=["all"];

    if ($$('#place_optiong').val()!=""){
    var place_option = ""+$$('#place_optiong').val();
    place_option = place_option.split(",");
    }
    else
    var place_option=["all"];

    if ($$('#type_optiong').val()!=""){
    var type_option = ""+$$('#type_optiong').val();
    type_option = type_option.split(",");
    }
    else
    var type_option=["all"];

    if ($$('#equip_optiong').val()!=""){
    var equip_option = ""+$$('#equip_optiong').val();
    equip_option = equip_option.split(",");
    }
    else
    var equip_option=["all"];

    if ($$('#versiong').val()!=""){
    var version = ""+$$('#versiong').val();
    version = version.split(",");
    }
    else
    var version=["all"];

    if ($$('#pumpg').val()!=""){
    var pump = ""+$$('#pumpg').val();
    pump = pump.split(",");
    }
    else
    var pump=["all"];

    if ($$('#hdfg').val()!=""){
    var hdf = ""+$$('#hdfg').val();
    hdf = hdf.split(",");
    }
    else
    var hdf=["all"];

    if ($$('#zkv').val()!=""){
    var zkv = ""+$$('#zkv').val();
    zkv = zkv.split(",");
    }
    else
    var zkv=["all"];

    if ($$('#adimea').val()!=""){
    var adimea = ""+$$('#adimea').val();
    adimea = adimea.split(",");
    }
    else
    var adimea=["all"];

    if ($$('#akku').val()!=""){
    var akku = ""+$$('#akku').val();
    akku = akku.split(",");
    }
    else
    var akku=["all"];

    if ($$('#abpm').val()!=""){
    var abpm = ""+$$('#abpm').val();
    abpm = abpm.split(",");
    }
    else
    var abpm=["all"];

    if ($$('#garant').val()!=""){
    var garant = ""+$$('#garant').val();
    garant = garant.split(",");
    }
    else
    var garant=["all"];

    if ($$('#nexadia').val()!=""){
    var nexadia = ""+$$('#nexadia').val();
    nexadia = nexadia.split(",");
    }
    else
    var nexadia=["all"];

    if ($$('#cardreader').val()!=""){
    var cardreader = ""+$$('#cardreader').val();
    cardreader = cardreader.split(",");
    }
    else
    var cardreader=["all"];

    var s1 = "",s2="",s3="",s4 = "",s41 = "",s5="",s6="";

    var f1 = $$('#tedeco_id').val();
    var f2 = $$('#sng').val();
    var f3 = $$('#articleg').val();
    var f4 = $$('#py_optiong_lv').val();
    var f5 = $$('#py_optiong').val();
    var f6 = $$('#inst_date_lv').val();
    var f7 = $$('#inst_date').val();
    var f8 = $$('#wtcg_lv').val();
    var f9 = $$('#wtcg').val();

    if (f1 != "")  s1="id = "+f1; else s1="id !=0";
    if (f2 != "")  s2=" and SN = "+f2;
    if (f3 != "")  s3=" and Article = "+f3;

    if (f4 != "0") s4=" and PY >="+f4;
    if (f5 != "0") s41=" and PY <= "+f5;

    if (f6 != "0") s5=" and Inst_date "+f6+" "+f7; else 
    if (f7 != "") s5=" and Inst_date = "+f7;
    if (f8 != "0") s6=" and WTC "+f8+" "+f9; else 
    if (f9 != "") s6=" and WTC = "+f9;



    var zapros_sql = s1 + s2 + s3 + s4 + s41 + s5 + s6;
    type_option=1;
    if (app.data.peremen.type.id!=0)type_option=app.data.peremen.type.id;
    var sql=[];
    sql.push({
      status:status,
      zapros_sql:zapros_sql,
      place_option:place_option,
      type_option:type_option,
      equip_option:equip_option,
      version:version,
      pump:pump,
      garant:garant,
      hdf:hdf,
      zkv:zkv,
      adimea:adimea,
      akku:akku,
      abpm:abpm,
      nexadia:nexadia,
      cardreader:cardreader
    });
    chek_item=[];
    //app.dialog.alert(sql[0].zapros_sql);

	  app.preloader.show('blue');
	app.request.post('http://tedeco.kz/equipment/api/list.php',{zapros:"find",sql:JSON.stringify(sql),tag:s18,find:f21,sort:sorts},function(otvet){
  app.preloader.hide();
  //app.dialog.alert(JSON.stringify(otvet));
    var virt_list = document.getElementById("virt_list"); 
    virt_list.innerHTML ="";
    $$('#obw_col').text(otvet[0].length+" найдено");
	if (otvet[0].length>0){
	for (var s=0;s<otvet[0].length; s++){
    chek_item.push({
        id:otvet[0][s].id
      });
      virt_list.innerHTML  +='<tr>'+
			'<td class="checkbox-cell"><label class="checkbox"><input type="checkbox" value="'+s+'" id="check'+otvet[0][s].id+'" name="3"/><i class="icon-checkbox"></i></label></td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].place+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].etype+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].equip+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].id+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].sn+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].article+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].py+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].wtc+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].sw_version+'</td>'+
              '<td class="label-cell noselect" data-id = "'+otvet[0][s].id+'" value="'+s+'" name="2">'+otvet[0][s].status+'</td>'+
			  '<td class="label-cell"><button name="1" class="col button dynamic-popover'+otvet[0][s].id+'" data-id="'+otvet[0][s].id+'" style="height:100%;">:</button></td>'+
            '</tr>';	
			 }
	
  }
},function(){
	app.preloader.hide();
	app.dialog.alert('Нет ответа от сервера!');
	},'json');

};

$$('#all_button').on('click',function(){
	var dynamicPopover = app.popover.create({
  targetEl: 'button.dynamic-popover0',
  content: '<div class="popover">'+
              '<div class="popover-inner">'+
                '<div class="list">'+
        '<ul>'+
          '<li><a class="list-button item-link" id="all_dow">Скачать все QR</a></li>'+
        '</ul>'+
      '</div>'+
              '</div>'+
            '</div>',
  // Events
  on: {
    open: function (popover) {
	$$('#all_dow').on('click',function(){
	dynamicPopover.close();
  window.open('http://tedeco.kz/equipment/api/qr.php?zapros=all&etype='+app.data.peremen.type.id , '_blank');
	});
    },
    opened: function (popover) {

    },
  }
});
  dynamicPopover.open();
});

$$('#all_buttonz').on('click',function(){
	var dynamicPopover = app.popover.create({
  targetEl: 'button.dynamic-popoverz',
  content: '<div class="popover">'+
              '<div class="popover-inner">'+
                '<div class="list">'+
        '<ul>'+
          '<li><a class="list-button item-link" id="all_dow_z">Скачать заявки Excell</a></li>'+
          '<li><a class="list-button item-link" id="dell_z">Удалить</a></li>'+
          '<li><a class="list-button item-link" id="all_z">Активные зявки</a></li>'+
          '<li><a class="list-button item-link" id="pod_z">Ожидание подтв.</a></li>'+
          '<li><a class="list-button item-link" id="arhiv_z">В архиве</a></li>'+
          '<li><a class="list-button item-link" id="moder_z">В модерации</a></li>'+
        '</ul>'+
      '</div>'+
              '</div>'+
            '</div>',
  // Events
  on: {
    open: function (popover) {
	$$('#all_dow_z').on('click',function(){
	dynamicPopover.close();
  var zai=[];
  var s = $$('#virt_list_zayavka').find('input').each(function() {
zai.push({
id:$$(this).attr('value')
});
  });
if (zai.length<=0)app.dialog.alert('Ничего нет');
else
{
   window.open('http://tedeco.kz/equipment/new/zayavka.php?sql='+JSON.stringify(zai), '_blank');
}
 // window.open('http://tedeco.kz/equipment/new/zayavka.php', '_blank');
	});
  $$('#all_z').on('click',function(){
  dynamicPopover.close();
  $$('#zaya_name').text('Активные заявки');
  app.preloader.show('blue');
  app.request.get('http://tedeco.kz/equipment/api/zayavka.php',{zapros:"admin"},function(zapros){
    app.preloader.hide();
	if (zapros.length>0){
    $$('#obw_colz').text(zapros.length+" найдено");
	var virt_list_zayavka="";
	for (var s=0;s<zapros.length; s++){
	virt_list_zayavka+='<tr>'+
			'<td class="checkbox-cell" value="'+zapros[s].id+'"><label class="checkbox"><input value="'+zapros[s].id+'" id="check_zaya'+zapros[s].id+'" type="checkbox"/><i class="icon-checkbox"></i></label></td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Place+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].EType+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Equipment+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].status+'</td>'+
			  '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].id_bd+'</td>'+
			   '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].data+'</td>'+
			   '<td class="label-cell"><button name="1" class="col button dynamic-popoverz'+zapros[s].id_bd+'" data-id="'+zapros[s].id_bd+'" style="height:100%;">:</button></td>'+
            '</tr>';
}			
	$$('#virt_list_zayavka').html(virt_list_zayavka);
	
	}
	},function(){
	app.preloader.hide();
	app.dialog.alert('Нет ответа от сервера!');
  },'json');
  });
  $$('#pod_z').on('click',function(){
  dynamicPopover.close();
 $$('#zaya_name').text('Ожидание подтверждения');
  app.preloader.show('blue');
  app.request.get('http://tedeco.kz/equipment/api/zayavka.php',{zapros:"admin",zap:"pod"},function(zapros){
    app.preloader.hide();
	if (zapros.length>0){
    $$('#obw_colz').text(zapros.length+" найдено");
	var virt_list_zayavka="";
	for (var s=0;s<zapros.length; s++){
	virt_list_zayavka+='<tr>'+
			'<td class="checkbox-cell" value="'+zapros[s].id+'"><label class="checkbox"><input value="'+zapros[s].id+'" id="check_zaya'+zapros[s].id+'" type="checkbox"/><i class="icon-checkbox"></i></label></td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Place+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].EType+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Equipment+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].status+'</td>'+
			  '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].id_bd+'</td>'+
			   '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].data+'</td>'+
			   '<td class="label-cell"><button name="1" class="col button dynamic-popoverz'+zapros[s].id_bd+'" data-id="'+zapros[s].id_bd+'" style="height:100%;">:</button></td>'+
            '</tr>';
}			
	$$('#virt_list_zayavka').html(virt_list_zayavka);
	
	}
	},function(){
	app.preloader.hide();
	app.dialog.alert('Нет ответа от сервера!');
  },'json');
  });
  $$('#arhiv_z').on('click',function(){
  dynamicPopover.close();
  $$('#zaya_name').text('Архивные');
  app.preloader.show('blue');
  app.request.get('http://tedeco.kz/equipment/api/zayavka.php',{zapros:"admin",zap:"arhiv"},function(zapros){
    app.preloader.hide();
	if (zapros.length>0){
    $$('#obw_colz').text(zapros.length+" найдено");
	var virt_list_zayavka="";
	for (var s=0;s<zapros.length; s++){
	virt_list_zayavka+='<tr>'+
			'<td class="checkbox-cell" value="'+zapros[s].id+'"><label class="checkbox"><input value="'+zapros[s].id+'" id="check_zaya'+zapros[s].id+'" type="checkbox"/><i class="icon-checkbox"></i></label></td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Place+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].EType+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Equipment+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].status+'</td>'+
			  '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].id_bd+'</td>'+
			   '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].data+'</td>'+
			   '<td class="label-cell"><button name="1" class="col button dynamic-popoverz'+zapros[s].id_bd+'" data-id="'+zapros[s].id_bd+'" style="height:100%;">:</button></td>'+
            '</tr>';
}			
	$$('#virt_list_zayavka').html(virt_list_zayavka);
	
	}
	},function(){
	app.preloader.hide();
	app.dialog.alert('Нет ответа от сервера!');
  },'json');
  });

  $$('#moder_z').on('click',function(){
  dynamicPopover.close();
  $$('#zaya_name').text('В модерации');
  app.preloader.show('blue');
  app.request.get('http://tedeco.kz/equipment/api/zayavka.php',{zapros:"admin",zap:"moder"},function(zapros){
    app.preloader.hide();
	if (zapros.length>0){
    $$('#obw_colz').text(zapros.length+" найдено");
	var virt_list_zayavka="";
	for (var s=0;s<zapros.length; s++){
	virt_list_zayavka+='<tr>'+
			'<td class="checkbox-cell" value="'+zapros[s].id+'"><label class="checkbox"><input value="'+zapros[s].id+'" id="check_zaya'+zapros[s].id+'" type="checkbox"/><i class="icon-checkbox"></i></label></td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Place+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].EType+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].Equipment+'</td>'+
              '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].status+'</td>'+
			  '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].id_bd+'</td>'+
			   '<td class="label-cell noselect" value="'+zapros[s].id+'" data-id="'+zapros[s].id_bd+'">'+zapros[s].data+'</td>'+
			   '<td class="label-cell"><button name="1" class="col button dynamic-popoverz'+zapros[s].id_bd+'" data-id="'+zapros[s].id_bd+'" style="height:100%;">:</button></td>'+
            '</tr>';
}			
	$$('#virt_list_zayavka').html(virt_list_zayavka);
	
	}
	},function(){
	app.preloader.hide();
	app.dialog.alert('Нет ответа от сервера!');
  },'json');
  });

  $$('#dell_z').on('click',function(){
	dynamicPopover.close();
  var zai=[];
  var s = $$('#virt_list_zayavka').find('input').each(function() {
if ($$(this).prop('checked')==true)
zai.push({
id:$$(this).attr('value')
});
  });
if (zai.length<=0)app.dialog.alert('Ничего не выбрано');
else
{
  app.dialog.confirm('Вы точно хотите удалить выбранные?',function(){
  app.preloader.show('blue');
	app.request.get('http://tedeco.kz/equipment/api/zayavka.php',{zapros:"admin",sql:JSON.stringify(zai),zap:"dell"},function(zai_del){
  app.preloader.hide();
if (zai_del[0].message=="ok")app.dialog.alert('Успешно удалено',function(){
  router.refreshPage();
});
  },'json');
  });
}

	});
    },
    opened: function (popover) {

    },
  }
});
  dynamicPopover.open();
});

$$('#virt_list_zayavka').on('click', 'button,.label-cell', function () {
  var name=$$(this).attr('name');
	var id=$$(this).attr('data-id');
  if (name=="1"){
    var dynamicPopover = app.popover.create({
  targetEl: 'button.dynamic-popoverz'+id,
  content: '<div class="popover">'+
              '<div class="popover-inner">'+
                '<div class="list">'+
        '<ul>'+
		  '<li><a class="list-button item-link" id="edit">Посмотреть</a></li>'+
        '</ul>'+
      '</div>'+
              '</div>'+
            '</div>',
  // Events
  on: {
    open: function (popover) {
	$$('#arvih').on('click',function(){
	dynamicPopover.close();
	});
	$$('#edit').on('click',function(){
	dynamicPopover.close();
	router.navigate('/edit/?id='+id+'#about');
	});
    },
    opened: function (popover) {

    },
  }
});
  dynamicPopover.open();
  }
  else
  {
    var value=$$(this).attr('value');
    if (sdfz==1){
sdfz=0;
if ($$('#check_zaya'+value).prop('checked')==false)$$('#check_zaya'+value).prop('checked',true);
      else
      $$('#check_zaya'+value).prop('checked',false);
      router.navigate("/history/?id="+value+"&id_db="+id);
    }
    else{
    sdfz = 1;
    if ($$('#check_zaya'+value).prop('checked')==false)$$('#check_zaya'+value).prop('checked',true);
      else
      $$('#check_zaya'+value).prop('checked',false);
    setTimeout(function(){
    sdfz=0;
    },200);

  }
    
      }

});
	
	$$('.chip').on('click',function(){
	$$('#find_chip').val($$(this).text());
	$$('#ship_text').text("");
	});
	
	$$('#company').on('click',function(){
	router.navigate('/company/',{animate:false});
	app.panel.close('right');
	});


$$('#per').on('click',function(){
  var opens=[]; 
  for(var f = 0; f<chek_item.length; f++)
  if ($$('#check'+chek_item[f].id).prop('checked')==true)
  opens.push({
    id:chek_item[f].id
  });
  if (opens.length<=0)
app.dialog.alert("Ничего не выбрано");
else
app.dialog.create({
 title: '<div style="text-align: center;"><font color="red">Перемещение</font></div>',
 text:"",
content:'<div class="list no-hairlines-md">'+
  '<ul>'+
                              '<li class="item-content item-input item-input-outline">'+
                            '<div class="item-inner">'+
                             ' <div class="item-title">Куда</div>'+
                                 '                           <div class="item-input-wrap input-dropdown-wrap">'+
          '<select placeholder="" id="place_option2">'+place_div2+
         ' </select>'+
       ' </div>'+
                           ' </div>'+
                          '</li>'+
  '</ul>'+
'</div>',
on: {
    opened: function () {
    }
  },
 buttons: [
 {
        text: 'Отмена',
		 onClick: function() {
		 }
      },
		{
        text: 'Переместить',
		onClick: function(){
    app.preloader.show('blue');
		app.request.post('http://tedeco.kz/equipment/api/pere_ob.php',{kuda:$$('#place_option2').val(),zapros:"pere",spisok:JSON.stringify(opens),id:app.data.user.id},function(otvet){                                          							
app.preloader.hide();
if (otvet[0].message=="ok")
{
app.dialog.alert('Перемещено',function(){
  app.data.peremen.put="edit";
  app.preloader.show('blue');
  sort("");
});
}
else
{
  app.dialog.alert('Некоторые были не перемещены, так как они уже находятся там',function(){
  app.data.peremen.put="edit";
  app.preloader.show('blue');
  sort("");
});

}
},function(){
app.preloader.hide();
app.dialog.alert('Нет подключения к интернету');
},'json');

		}
      }
],
}).open(); 
});

$$('[name="demo-checkbox-movies"]').on('change', function (e) {
  if (e.target.checked) {
  $$('#obw_chek').text(' (Выбрано: '+chek_item.length.toString()+')');
  }
  else
  $$('#obw_chek').text('');
  
});

$$('#chip_ewe').on('click',function(){
  var tegs ="";
  for (var s=0;s<all_chip.length; s++)
  tegs+='<p><a href="#" class="button button-fill color-orange link popup-close" value="5" name="'+all_chip[s].name_tag+'">'+all_chip[s].name_tag+'</a></p>';
  var dynamicPopup = app.popup.create({
  content: '<div class="popup pop-info-action">'+
	'<div class="view popup-view">'+
		'<div class="page">'+
			'<div class="navbar">'+
				'<div class="navbar-inner" style="background-color:#222c3c;">'+
					'<div class="title">Все теги</div>'+
					'<div class="right"><a class="link popup-close" href="#">Закрыть</a></div>'+
				'</div>'+
			'</div>'+
			'<div class="page-content block"><br>'+tegs+
			'<br></div>'+
		'</div>'+
	'</div>'+
'</div>',
  // Events
  on: {
    open: function (popup) {
     
    },
    opened: function (popup) {
      $$('a').on('click',function(){
      var name = $$(this).attr('name');
      if ($$(this).attr('value')=="5")
        $$('#find_chip').val(name);
      });
    },
  }
});
dynamicPopup.open();
});


$$('.accordion-item-toggle').on('click',function(){
  if ($$('#py_optiong_div').html()=="") {
            $$('#inst_date_div').html('<select placeholder="" id="inst_date_lv">'+
              '<option value="0"></option>'+
              '<option value=">">></option>'+
              '<option value="<"><</option>'+
            '</select>');

            $$('#wtcg_div').html('<select placeholder="" id="wtcg_lv">'+
              '<option value="0"></option>'+
              '<option value=">">></option>'+
              '<option value="<"><</option>'+
              '</select>');

              var py_option_div = document.getElementById("py_option_div"); 
  py_option_div.innerHTML  ='<select placeholder="" id="py_optiong">'+
            '<option value="0"></option>'+
            '<option value="2000">2000</option>';
          '</select>';
  var type_div = document.getElementById("py_optiong"); 
	for (var d=1;d <21; d++)
	if (d<10)
    type_div.innerHTML  +='<option value="200'+d+'">200'+d+'</option>';
	else
	type_div.innerHTML  +='<option  value="20'+d+'">20'+d+'</option>';

  var py_optiong_div = document.getElementById("py_optiong_div"); 
  py_optiong_div.innerHTML  ='<select placeholder="" id="py_optiong_lv">'+
            '<option value="0"></option>'+
            '<option value="2000">2000</option>';
          '</select>';
          var type_div_g = document.getElementById("py_optiong_lv"); 
          for (var d=1;d <21; d++)
	if (d<10)
  type_div_g.innerHTML  +='<option value="200'+d+'">200'+d+'</option>';
	else
	type_div_g.innerHTML  +='<option  value="20'+d+'">20'+d+'</option>';


  /*$$('#py_optiong_div').html('<select placeholder="" id="py_optiong_lv">'+
      '<option value="0"></option>'+
              '<option value="200">></option>'+
              '<option value="<"><</option>'+
            '</select>');
            */
          }
});

$('#py_optiong_div').on('change',function(){
  if ($$('#py_optiong_lv').val()!="0"){
    var place_option = ""+$$('#py_optiong_lv').val();
    place_option = place_option[2]+""+place_option[3];
    var py_option_div = document.getElementById("py_option_div"); 
  py_option_div.innerHTML  ='<select placeholder="" id="py_optiong">'+
            '<option value="0"></option>'+
          '</select>';
  var type_div = document.getElementById("py_optiong"); 
	for (var d=parseInt(place_option);d <21; d++)
	if (d<10)
    type_div.innerHTML  +='<option value="200'+d+'">200'+d+'</option>';
	else
	type_div.innerHTML  +='<option  value="20'+d+'">20'+d+'</option>';
    }
    else
    {
      var py_option_div = document.getElementById("py_option_div"); 
  py_option_div.innerHTML  ='<select placeholder="" id="py_optiong">'+
            '<option value="0"></option>'+
            '<option value="2000">2000</option>'+
          '</select>';
  var type_div = document.getElementById("py_optiong"); 
	for (var d=1;d <21; d++)
	if (d<10)
    type_div.innerHTML  +='<option value="200'+d+'">200'+d+'</option>';
	else
	type_div.innerHTML  +='<option  value="20'+d+'">20'+d+'</option>';
    }
});





/////////change//////////////////////
var place_option=["all"],versiong=["all"],equip_optiong=["all"],pumpg=["all"],hdfg=["all"],zkv=["all"],adimea=["all"],akku=["all"],abpm=["all"],nexadia=["all"],cardreader=["all"],garant=["all"];
$('#place_optiong').on('change',function(){
  if ($$('#place_optiong').val()!=""){
    place_option = ""+$$('#place_optiong').val();
    place_option = place_option.split(",");
    }
    else
    place_option=["all"];
    updat("Place");
});

$('#versiong').on('change',function(){
  if ($$('#versiong').val()!=""){
     versiong = ""+$$('#versiong').val();
    versiong = versiong.split(",");
    }
    else
     versiong=["all"];
    updat("SW_version");
});

$('#equip_optiong').on('change',function(){
  if ($$('#equip_optiong').val()!=""){
     equip_optiong = ""+$$('#equip_optiong').val();
    equip_optiong = equip_optiong.split(",");
    }
    else
     equip_optiong=["all"];
    updat("Equipment");
});

$('#pumpg').on('change',function(){
  if ($$('#pumpg').val()!=""){
     pumpg = ""+$$('#pumpg').val();
    pumpg = pumpg.split(",");
    }
    else
     pumpg=["all"];
    updat("PUMP");
});

$('#hdfg').on('change',function(){
  if ($$('#hdfg').val()!=""){
     hdfg = ""+$$('#hdfg').val();
    hdfg = hdfg.split(",");
    }
    else
     hdfg=["all"];
    updat("HDF");
});

$('#zkv').on('change',function(){
  if ($$('#zkv').val()!=""){
     zkv = ""+$$('#zkv').val();
    zkv = zkv.split(",");
    }
    else
     zkv=["all"];
    updat("ZKV");
});

$('#adimea').on('change',function(){
  if ($$('#adimea').val()!=""){
     adimea = ""+$$('#adimea').val();
    adimea = adimea.split(",");
    }
    else
     adimea=["all"];
    updat("ADIMEA");
});

$('#akku').on('change',function(){
  if ($$('#akku').val()!=""){
     akku = ""+$$('#akku').val();
    akku = akku.split(",");
    }
    else
     akku=["all"];
    updat("AKKU");
});

$('#abpm').on('change',function(){
  if ($$('#abpm').val()!=""){
     abpm = ""+$$('#abpm').val();
    abpm = abpm.split(",");
    }
    else
     abpm=["all"];
    updat("ABPM");
});

$('#nexadia').on('change',function(){
  if ($$('#nexadia').val()!=""){
     nexadia = ""+$$('#nexadia').val();
    nexadia = nexadia.split(",");
    }
    else
     nexadia=["all"];
    updat("NEXADIA");
});

$('#cardreader').on('change',function(){
  if ($$('#cardreader').val()!=""){
     cardreader = ""+$$('#cardreader').val();
    cardreader = cardreader.split(",");
    }
    else
     cardreader=["all"];
    updat("Cardreader");
});

$('#garant').on('change',function(){
  if ($$('#garant').val()!=""){
     garant = ""+$$('#garant').val();
    garant = garant.split(",");
    }
    else
     cardreader=["all"];
    updat("garant");
});
function updat(zapros){
  //app.preloader.show('blue');
  var place_option1 = [],sw_version1=[],equip_optiong1=[],pumpg1=[],hdfg1=[],zkv1=[],adimea1=[],akku1=[],abpm1=[],nexadia1=[],cardreader1=[],garant1=[];
  for (var g=0; g< spisok.length; g++)
  for (var g1 = 0; g1<place_option.length; g1++)
  if (place_option[g1]=="all" || place_option[g1]==spisok[g].place_re)
  for (var g2 = 0; g2<versiong.length; g2++)
  if (versiong[g2]=="all" || versiong[g2]==spisok[g].sw_version)
  for (var g3 = 0; g3<equip_optiong.length; g3++)
  if (equip_optiong[g3]=="all" || equip_optiong[g3]==spisok[g].equip_re)
  for (var g4 = 0; g4<pumpg.length; g4++)
  if (pumpg[g4]=="all" || pumpg[g4]==spisok[g].pump)
  for (var g5 = 0; g5<hdfg.length; g5++)
  if (hdfg[g5]=="all" || hdfg[g5]==spisok[g].hdf)
  for (var g6 = 0; g6<zkv.length; g6++)
  if (zkv[g6]=="all" || zkv[g6]==spisok[g].zkv)
  for (var g7 = 0; g7<adimea.length; g7++)
  if (adimea[g7]=="all" || adimea[g7]==spisok[g].adimea)
  for (var g8 = 0; g8<akku.length; g8++)
  if (akku[g8]=="all" || akku[g8]==spisok[g].akku)
  for (var g9 = 0; g9<abpm.length; g9++)
  if (abpm[g9]=="all" || abpm[g9]==spisok[g].abpm)
  for (var g10 = 0; g10<nexadia.length; g10++)
  if (nexadia[g10]=="all" || nexadia[g10]==spisok[g].nexadia)
  for (var g11 = 0; g11<cardreader.length; g11++)
  if (cardreader[g11]=="all" || cardreader[g11]==spisok[g].cardreader)
  for (var g12 = 0; g12<garant.length; g12++)
  if (garant[g12]=="all" || garant[g12]==spisok[g].garant){
    let place_opt = place_option1.find(item => item.name_place == spisok[g].place);
    if (!place_opt)
  place_option1.push({
    name_place:spisok[g].place,
    id_place:spisok[g].place_re,
    name_comp:spisok[g].comp,
  });
  let sw_version2 = sw_version1.find(item => item.name_version == spisok[g].sw_version);
  if (!sw_version2)
  sw_version1.push({
    name_version:spisok[g].sw_version,
  });
  let equip_optiong2 = equip_optiong1.find(item => item.id_eqip == spisok[g].equip_re);
  if (!equip_optiong2)
  equip_optiong1.push({
    id_eqip:spisok[g].equip_re,
    name_eqip:spisok[g].equip
  });
  let pumpg2 = pumpg1.find(item => item.name == spisok[g].pump);
  if (!pumpg2)
  pumpg1.push({
    name:spisok[g].pump
  });
  let hdfg2 = hdfg1.find(item => item.name == spisok[g].hdf);
  if (!hdfg2)
  hdfg1.push({
    name:spisok[g].hdf
  });
  let zkv2 = zkv1.find(item => item.name == spisok[g].zkv);
  if (!zkv2){
    if (spisok[g].zkv == "true") var name1="Есть"; else var name1 = "Нет";
  zkv1.push({
    name1:name1,
    name:spisok[g].zkv
  });
  }
  let adimea2 = adimea1.find(item => item.name == spisok[g].adimea);
  if (!adimea2){
    if (spisok[g].adimea == "true") var name1="Есть"; else var name1 = "Нет";
    adimea1.push({
    name1:name1,
    name:spisok[g].adimea
  });
  }
  let akku2 = akku1.find(item => item.name == spisok[g].akku);
  if (!akku2){
    if (spisok[g].akku == "true") var name1="Есть"; else var name1 = "Нет";
    akku1.push({
    name1:name1,
    name:spisok[g].akku
  });
  }
  let abpm2 = abpm1.find(item => item.name == spisok[g].abpm);
  if (!abpm2){
    if (spisok[g].abpm == "true") var name1="Есть"; else var name1 = "Нет";
    abpm1.push({
    name1:name1,
    name:spisok[g].abpm
  });
  }
  let nexadia2 = nexadia1.find(item => item.name == spisok[g].nexadia);
  if (!nexadia2){
    if (spisok[g].nexadia == "true") var name1="Есть"; else var name1 = "Нет";
    nexadia1.push({
    name1:name1,
    name:spisok[g].nexadia
  });
  }
  let cardreader2 = cardreader1.find(item => item.name == spisok[g].cardreader);
  if (!cardreader2){
    if (spisok[g].cardreader == "true") var name1="Есть"; else var name1 = "Нет";
    cardreader1.push({
    name1:name1,
    name:spisok[g].cardreader
  });
  }
  let garant2 = garant1.find(item => item.name == spisok[g].garant);
  if (!garant2){
    if (spisok[g].garant == "true") var name1="Есть"; else var name1 = "Нет";
    garant1.push({
    name1:name1,
    name:spisok[g].garant
  });
  }
  }

  if (place_option[0]=="all"){
    var comps = [];
    for (var h1=0; h1<place_option1.length;h1++){
    let comps1 = comps.find(item => item.name == place_option1[h1].name_comp);
		if (!comps1)
    comps.push({
      name:place_option1[h1].name_comp
    });
    }


     var opti="";
	for (var s=0;s <comps.length; s++){
     opti +='<optgroup label="'+comps[s].name+'">';
      for (var s1=0;s1 <place_option1.length; s1++)
        if (place_option1[s1].name_comp == comps[s].name)
   opti+='<option value="'+place_option1[s1].id_place+'">'+place_option1[s1].name_place+'</option>';	

    opti +="</optgroup>";
  }
  $$('#place_optiong').html(opti);
  $('#place_optiong').multipleSelect();

    //app.dialog.alert(JSON.stringify(comps));
  /*var div_place="";
    for (var s=0;s <place_option1.length; s++)
    div_place +='<option value="'+place_option1[s].id_place+'">'+place_option1[s].name_place+place_option1[s].name_comp+'</option>';	
  $$('#place_optiong').html(div_place);
  $('#place_optiong').multipleSelect();*/
  }
  if (versiong[0]=="all"){
   var vers_po;
    for (var s=0;s <sw_version1.length; s++)
      vers_po +='<option value="'+sw_version1[s].name_version+'">'+sw_version1[s].name_version+'</option>';	
  $$('#versiong').html(vers_po);
  $('#versiong').multipleSelect();
  }
  if (equip_optiong[0]=="all"){
  var type_div = ""; 
	for (var d=0;d <equip_optiong1.length; d++)
    type_div +='<option value="'+equip_optiong1[d].id_eqip+'">'+equip_optiong1[d].name_eqip+'</option>';
    $$('#equip_optiong').html(type_div);
    $('#equip_optiong').multipleSelect();
  }
  if (pumpg[0]=="all"){
    var pump_div = ""; 
	for (var d=0;d <pumpg1.length; d++)
  pump_div +='<option value="'+pumpg1[d].name+'">'+pumpg1[d].name+'</option>';
  $$('#pumpg').html(pump_div);
    $('#pumpg').multipleSelect();
  }
  if (hdfg[0]=="all"){
    var hdf_div = ""; 
	for (var d=0;d <hdfg1.length; d++)
  hdf_div +='<option value="'+hdfg1[d].name+'">'+hdfg1[d].name+'</option>';
  $$('#hdfg').html(hdf_div);
    $('#hdfg').multipleSelect();
  }
  if (zkv[0]=="all"){
    var zkv_div = ""; 
	for (var d=0;d <zkv1.length; d++)
  zkv_div +='<option value="'+zkv1[d].name+'">'+zkv1[d].name1+'</option>';
  $$('#zkv').html(zkv_div);
    $('#zkv').multipleSelect();
  }
  if (adimea[0]=="all"){
    var adimea_div = ""; 
	for (var d=0;d <adimea1.length; d++)
  adimea_div +='<option value="'+adimea1[d].name+'">'+adimea1[d].name1+'</option>';
  $$('#adimea').html(adimea_div);
    $('#adimea').multipleSelect();
  }
  if (akku[0]=="all"){
    var akku_div = ""; 
	for (var d=0;d <akku1.length; d++)
  akku_div +='<option value="'+akku1[d].name+'">'+akku1[d].name1+'</option>';
  $$('#akku').html(akku_div);
    $('#akku').multipleSelect();
  }
  if (abpm[0]=="all"){
    var abpm_div = ""; 
	for (var d=0;d <abpm1.length; d++)
  abpm_div +='<option value="'+abpm1[d].name+'">'+abpm1[d].name1+'</option>';
  $$('#abpm').html(abpm_div);
    $('#abpm').multipleSelect();
  }
  if (nexadia[0]=="all"){
    var nexadia_div = ""; 
	for (var d=0;d <nexadia1.length; d++)
  nexadia_div +='<option value="'+nexadia1[d].name+'">'+nexadia1[d].name1+'</option>';
  $$('#nexadia').html(nexadia_div);
    $('#nexadia').multipleSelect();
  }
  if (cardreader[0]=="all"){
    var card_div = ""; 
	for (var d=0;d <cardreader1.length; d++)
  card_div +='<option value="'+cardreader1[d].name+'">'+cardreader1[d].name1+'</option>';
  $$('#cardreader').html(card_div);
    $('#cardreader').multipleSelect();
  }
  if (garant[0]=="all"){
    var garant_div = ""; 
	for (var d=0;d <garant1.length; d++)
  garant_div +='<option value="'+garant1[d].name+'">'+garant1[d].name1+'</option>';
  $$('#garant').html(garant_div);
    $('#garant').multipleSelect();
  }
    /*
	app.request.post('http://tedeco.kz/equipment/api/cols.php',{zapros:zapros,sql:JSON.stringify(sql1)},function(otvet){
  app.preloader.hide();
  app.dialog.alert(JSON.stringify(otvet));
  if (place_option==["all"]){
  var div_place="";
    for (var s=0;s <otvet[10].length; s++)
    div_place +='<option value="'+otvet[10][s].id_place+'">'+otvet[10][s].name_place+'</option>';	
  $$('#place_optiong').html(div_place);
  $('#place_optiong').multipleSelect();
  }
  if (versiong==["all"]){
   var vers_po;
    for (var s=0;s <otvet[0].length; s++)
      vers_po +='<option value="'+otvet[0][s].name_version+'">'+otvet[0][s].name_version+'</option>';	
  $$('#versiong').html(vers_po);
  $('#versiong').multipleSelect();
  }
  if (equip_optiong==["all"]){
  var type_div = ""; 
	for (var d=0;d <otvet[1].length; d++)
    type_div +='<option value="'+otvet[1][d].id_eqip+'">'+otvet[1][d].name_eqip+'</option>';
    $$('#equip_optiong').html(type_div);
    $('#equip_optiong').multipleSelect();
  }
  if (pumpg==["all"]){
    var pump_div = ""; 
	for (var d=0;d <otvet[2].length; d++)
  pump_div +='<option value="'+otvet[2][d].name+'">'+otvet[2][d].name+'</option>';
  $$('#pumpg').html(pump_div);
    $('#pumpg').multipleSelect();
  }
  if (hdfg==["all"]){
    var hdf_div = ""; 
	for (var d=0;d <otvet[3].length; d++)
  hdf_div +='<option value="'+otvet[3][d].name+'">'+otvet[3][d].name+'</option>';
  $$('#hdfg').html(hdf_div);
    $('#hdfg').multipleSelect();
  }
  if (zkv==["all"]){
    var zkv_div = ""; 
	for (var d=0;d <otvet[4].length; d++)
  zkv_div +='<option value="'+otvet[4][d].name+'">'+otvet[4][d].name1+'</option>';
  $$('#zkv').html(zkv_div);
    $('#zkv').multipleSelect();
  }
  if (adimea==["all"]){
    var adimea_div = ""; 
	for (var d=0;d <otvet[5].length; d++)
  adimea_div +='<option value="'+otvet[5][d].name+'">'+otvet[5][d].name1+'</option>';
  $$('#adimea').html(adimea_div);
    $('#adimea').multipleSelect();
  }
  if (akku==["all"]){
    var akku_div = ""; 
	for (var d=0;d <otvet[6].length; d++)
  akku_div +='<option value="'+otvet[6][d].name+'">'+otvet[6][d].name1+'</option>';
  $$('#akku').html(akku_div);
    $('#akku').multipleSelect();
  }
  if (abpm==["all"]){
    var abpm_div = ""; 
	for (var d=0;d <otvet[7].length; d++)
  abpm_div +='<option value="'+otvet[7][d].name+'">'+otvet[7][d].name1+'</option>';
  $$('#abpm').html(abpm_div);
    $('#abpm').multipleSelect();
  }
  if (nexadia==["all"]){
    var nexadia_div = ""; 
	for (var d=0;d <otvet[8].length; d++)
  nexadia_div +='<option value="'+otvet[8][d].name+'">'+otvet[8][d].name1+'</option>';
  $$('#nexadia').html(nexadia_div);
    $('#nexadia').multipleSelect();
  }
  if (cardreader==["all"]){
    var card_div = ""; 
	for (var d=0;d <otvet[9].length; d++)
  card_div +='<option value="'+otvet[9][d].name+'">'+otvet[9][d].name1+'</option>';
  $$('#cardreader').html(card_div);
    $('#cardreader').multipleSelect();
  }
},function(){
app.preloader.hide();
app.dialog.alert('Нет подключения к интернету');
},'json'); */

}

      },
    },
  };
  
</script>
